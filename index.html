<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>เว็บไซต์ทดลองเขียนโค้ด</title>
  <!--
    NOTE:
    - ไฟล์นี้ตอนนี้มีทั้ง UI สำหรับ สมัครสมาชิก / ลงชื่อเข้าใช้ และตัวอย่างการเชื่อมต่อ 2 แบบ:
      1) Demo local (เก็บบัญชีใน localStorage) — เหมาะทดสอบและเรียนรู้
      2) Integration กับ Firebase (แนะนำสำหรับจริงจัง) — ต้องสร้างโปรเจกต์ Firebase และใส่ config ของคุณลงในตัวแปร firebaseConfig
    - หากต้องการผมช่วยใส่ Firebase config ให้ (คุณต้องให้ค่า config จาก console.firebase.google.com)
    - **ห้าม** ใช้ localStorage เก็บรหัสผ่านใน production — ตัวอย่าง local นี้เป็นเพียง demo เท่านั้น
  -->
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; }
    :root{ --blue-600:#0059b3; --blue-500:#3399ff; --bg:#e6f0ff; --muted:#4b6b88; }
    body { background: var(--bg); color: #02233a; line-height: 1.6; padding-top: 72px; }
    header { position: fixed; top: 0; left: 0; width: 100%; background: var(--blue-600); color: #fff; padding: 12px 24px; display: flex; justify-content: space-between; align-items: center; z-index: 1000; transition: top 0.28s ease; box-shadow: 0 2px 8px rgba(3,45,80,0.15); }
    .brand { font-weight:700; letter-spacing:0.2px; }
    .left-menu { display:flex; gap:12px; align-items:center; }
    .auth-btn { background: rgba(255,255,255,0.12); color:#fff; padding:8px 14px; border-radius:999px; border: 1px solid rgba(255,255,255,0.12); text-decoration:none; font-size:0.95rem; transition: background .18s, transform .12s; }
    .auth-btn:hover{ background: rgba(255,255,255,0.18); transform:translateY(-2px); }
    .auth-btn.primary{ background:#fff; color:var(--blue-600); font-weight:600; }
    .menu-toggle { cursor: pointer; font-size: 22px; color: #fff; padding:6px; border-radius:6px; }
    .dropdown-menu { display: none; position: absolute; top: 60px; right: 24px; background: #004080; flex-direction: column; padding: 10px; border-radius: 8px; box-shadow: 0 8px 20px rgba(0,0,0,0.18); }
    .dropdown-menu a { color: #fff; text-decoration: none; padding: 8px 12px; border-radius:6px; display:block; }
    .dropdown-menu a:hover{ background: rgba(255,255,255,0.06); }
    .hero { min-height:40vh; display:flex; align-items:center; justify-content:center; background: linear-gradient(135deg,var(--blue-500),var(--blue-600)); color:#fff; text-align:center; padding:48px 20px; border-bottom-left-radius: 18px; border-bottom-right-radius: 18px; box-shadow: inset 0 -20px 60px rgba(0,0,0,0.06); }
    .hero h1{ font-size:2rem; max-width:900px; line-height:1.2; }
    .language-section{ max-width:1200px; margin:36px auto; padding: 0 20px; }
    .language-section h2{ text-align:center; color:#02233a; margin-bottom:18px; }
    .lang-grid{ display:grid; grid-template-columns: repeat(auto-fit,minmax(260px,1fr)); gap:18px; }
    .lang-card{ background:#fff; border-radius:12px; padding:18px; box-shadow: 0 6px 18px rgba(1,40,88,0.06); cursor:pointer; transition: transform .12s, box-shadow .12s; }
    .lang-card:hover{ transform: translateY(-6px); box-shadow: 0 14px 30px rgba(1,40,88,0.08); }
    .lang-top{ display:flex; justify-content:space-between; align-items:flex-start; gap:10px; }
    .lang-title{ font-size:1.05rem; color:var(--blue-600); font-weight:700; }
    .lang-summary{ color:var(--muted); margin-top:8px; font-size:0.95rem; }
    .lang-detail{ margin-top:12px; display:none; color:#223645; font-size:0.92rem; }
    .lang-detail h4{ margin-bottom:8px; color:var(--blue-600); }
    .lang-detail ol{ margin-left:18px; margin-bottom:8px; }
    .lang-meta{ font-size:0.85rem; color:#6b7a8a; margin-top:8px; }
    #contact{ max-width:720px; margin:28px auto; padding:22px; background:#fff; border-radius:12px; box-shadow: 0 8px 20px rgba(1,40,88,0.05); }
    #contact h2{ text-align:center; color:#02233a; margin-bottom:12px; }
    #contactForm input, #contactForm textarea{ width:100%; padding:12px; margin-bottom:10px; border-radius:8px; border:1px solid #d7e6ff; }
    #contactForm button{ background:var(--blue-600); color:#fff; padding:10px 14px; border-radius:8px; border:none; cursor:pointer; font-weight:600; }
    footer{ max-width:1200px; margin:28px auto; text-align:center; color:#fff; background:var(--blue-600); padding:18px; border-radius:10px; }
    /* modal */
    .modal-backdrop{ position:fixed; inset:0; background:rgba(0,0,0,0.4); display:none; align-items:center; justify-content:center; z-index:2000; }
    .modal{ background:#fff; width:360px; max-width:90%; border-radius:12px; padding:18px; box-shadow:0 16px 40px rgba(2,20,60,0.2); }
    .modal h3{ margin-bottom:12px; color:var(--blue-600); }
    .modal input{ width:100%; padding:10px; margin-bottom:8px; border-radius:8px; border:1px solid #dfefff; }
    .modal .row{ display:flex; gap:8px; }
    .modal .row .btn{ flex:1; padding:10px; border-radius:8px; border:none; cursor:pointer; }
    .btn.primary{ background:var(--blue-600); color:#fff; }
    .btn.ghost{ background:transparent; border:1px solid #cfe4ff; }
    @media (max-width:600px){ .left-menu{ display:none; } header{ padding:10px 14px; } .lang-grid{ gap:12px; } }
  </style>
</head>
<body>
  <header id="mainHeader">
    <div class="brand">Ainthat Code Lab</div>
    <div class="left-menu" id="authButtons">
      <a class="auth-btn" id="signupBtn" href="#" onclick="openModal('signup')">สมัครสมาชิก</a>
      <a class="auth-btn primary" id="loginBtn" href="#" onclick="openModal('login')">ลงชื่อเข้าใช้</a>
    </div>
    <div class="menu-toggle" onclick="toggleMenu()">☰</div>
    <div class="dropdown-menu" id="dropdownMenu">
      <a href="#">หน้าหลัก</a>
      <a href="#contact">ติดต่อ</a>
      <a href="#contact">แจ้งปัญหา</a>
    </div>
  </header>

  <section class="hero">
    <h1>ยินดีต้อนรับสู่ Ainthat Code Lab — แหล่งความรู้ภาษาโปรแกรมสำหรับผู้เริ่มต้นและผู้พัฒนา</h1>
  </section>

  <section class="language-section">
    <h2>ภาษาโปรแกรมยอดนิยมและข้อมูลสำคัญ</h2>
    <div class="lang-grid" id="langGrid">
      <!-- language cards (same as before) -->
    </div>
  </section>

  <section id="contact">
    <h2>ติดต่อเรา</h2>
    <form id="contactForm">
      <input type="text" id="name" placeholder="ชื่อของคุณ" required />
      <input type="email" id="email" placeholder="อีเมลของคุณ" required />
      <textarea id="message" placeholder="ข้อความ..." required></textarea>
      <button type="submit">ส่งข้อความ</button>
    </form>
    <p id="formResult"></p>
  </section>

  <footer>
    © 2025 Ainthat Duangkrathok | สร้างด้วยใจรักการเขียนโค้ด
  </footer>

  <!-- modals for signup/login (content and firebase/local handling in script) -->
  <div class="modal-backdrop" id="modalBackdrop">
    <div class="modal" id="modalContent">
      <!-- dynamic content populated by JS -->
    </div>
  </div>

  <script>
    /* ---------- AUTH UI + LOCAL demo + (optional) Firebase code placeholders ---------- */

    // State
    let users = JSON.parse(localStorage.getItem('demo_users') || '[]');
    let currentUser = JSON.parse(localStorage.getItem('demo_current') || 'null');

    // helpers
    function saveUsers(){ localStorage.setItem('demo_users', JSON.stringify(users)); }
    function setCurrent(user){ localStorage.setItem('demo_current', JSON.stringify(user)); currentUser = user; renderAuthState(); }

    // Render auth buttons / user state
    function renderAuthState(){
      const auth = document.getElementById('authButtons');
      auth.innerHTML = '';
      if (currentUser){
        const name = document.createElement('div');
        name.style.color = '#fff'; name.style.marginRight = '12px'; name.innerText = currentUser.displayName || currentUser.email;
        const out = document.createElement('a'); out.className='auth-btn ghost'; out.href='#'; out.innerText='ออกจากระบบ'; out.onclick = (e)=>{ e.preventDefault(); signOutLocal(); };
        auth.appendChild(name); auth.appendChild(out);
      } else {
        const signup = document.createElement('a'); signup.className='auth-btn'; signup.href='#'; signup.innerText='สมัครสมาชิก'; signup.onclick = (e)=>{ e.preventDefault(); openModal('signup'); };
        const login = document.createElement('a'); login.className='auth-btn primary'; login.href='#'; login.innerText='ลงชื่อเข้าใช้'; login.onclick = (e)=>{ e.preventDefault(); openModal('login'); };
        auth.appendChild(signup); auth.appendChild(login);
      }
    }

    renderAuthState();

    // Modal management
    const modalBackdrop = document.getElementById('modalBackdrop');
    const modalContent = document.getElementById('modalContent');
    function openModal(type){
      if (type === 'signup') modalContent.innerHTML = signupHtml();
      if (type === 'login') modalContent.innerHTML = loginHtml();
      modalBackdrop.style.display = 'flex';
    }
    function closeModal(){ modalBackdrop.style.display = 'none'; modalContent.innerHTML = ''; }
    modalBackdrop.addEventListener('click', (e)=>{ if (e.target === modalBackdrop) closeModal(); });

    function signupHtml(){
      return `
        <h3>สมัครสมาชิก (Demo)</h3>
        <input id="suName" placeholder="ชื่อ" />
        <input id="suEmail" placeholder="อีเมล" />
        <input id="suPass" placeholder="รหัสผ่าน" type="password" />
        <div class="row">
          <button class="btn primary" onclick="handleSignupLocal()">สมัคร</button>
          <button class="btn ghost" onclick="closeModal()">ยกเลิก</button>
        </div>
        <p style="font-size:0.85rem;color:#666;margin-top:8px;">* ตัวอย่างนี้เป็นการเก็บข้อมูลแบบ local เพื่อการเรียนรู้เท่านั้น</p>
      `;
    }
    function loginHtml(){
      return `
        <h3>ลงชื่อเข้าใช้ (Demo)</h3>
        <input id="liEmail" placeholder="อีเมล" />
        <input id="liPass" placeholder="รหัสผ่าน" type="password" />
        <div class="row">
          <button class="btn primary" onclick="handleLoginLocal()">เข้าสู่ระบบ</button>
          <button class="btn ghost" onclick="closeModal()">ยกเลิก</button>
        </div>
        <p style="font-size:0.85rem;color:#666;margin-top:8px;">* ตัวอย่างนี้เป็นการเก็บข้อมูลแบบ local เพื่อการเรียนรู้เท่านั้น</p>
      `;
    }

    // Local signup/login handlers (DEMO ONLY)
    function handleSignupLocal(){
      const name = document.getElementById('suName').value.trim();
      const email = document.getElementById('suEmail').value.trim();
      const pass = document.getElementById('suPass').value;
      if (!name || !email || !pass) { alert('กรุณากรอกให้ครบ'); return; }
      if (users.find(u=>u.email===email)) { alert('อีเมลนี้มีผู้ใช้แล้ว'); return; }
      const user = { id: Date.now(), displayName: name, email, password: pass };
      users.push(user); saveUsers(); setCurrent({ displayName: name, email }); closeModal(); alert('สมัครเรียบร้อย (demo)');
    }
    function handleLoginLocal(){
      const email = document.getElementById('liEmail').value.trim();
      const pass = document.getElementById('liPass').value;
      const user = users.find(u=>u.email===email && u.password===pass);
      if (!user) { alert('อีเมลหรือรหัสผ่านไม่ถูกต้อง'); return; }
      setCurrent({ displayName: user.displayName, email: user.email }); closeModal(); alert('เข้าสู่ระบบสำเร็จ (demo)');
    }
    function signOutLocal(){ localStorage.removeItem('demo_current'); currentUser=null; renderAuthState(); }

    /* ---------- Firebase integration (OPTIONAL) ----------
      หากต้องการใช้ฐานข้อมูลจริงและ Authentication ที่ปลอดภัย แนะนำใช้ Firebase (Auth + Firestore)
      ขั้นตอนสั้นๆ:
      1. ไปที่ https://console.firebase.google.com/ สร้าง Project
      2. ใน Project Settings -> เพิ่ม Web App -> คัดลอก config และวางในตัวแปร firebaseConfig ด้านล่าง
      3. เปิด Authentication -> Sign-in method -> เปิด Email/Password
      4. สร้าง Firestore Database (หรือ Realtime DB) เพื่อเก็บข้อมูลผู้ใช้เพิ่มเติม
      5. ติดตั้ง SDK ตามตัวอย่าง (ใช้ CDN หรือ npm)

      ตัวอย่าง (pseudocode) ในการใช้งาน (จะไม่ทำงานถ้าคุณยังไม่ได้ใส่ config):

      // import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js';
      // import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from 'https://www.gstatic.com/firebasejs/9.22.0/firebase-auth.js';
      // import { getFirestore, doc, setDoc } from 'https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js';

      // const app = initializeApp(firebaseConfig);
      // const auth = getAuth(app);
      // const db = getFirestore(app);

      // async function handleSignupFirebase(name,email,password){
      //   const cred = await createUserWithEmailAndPassword(auth,email,password);
      //   await setDoc(doc(db,'users',cred.user.uid), { displayName:name, email });
      // }

    */

    // language accordion already in page — keep previous toggleDetail available
    function toggleDetail(index) {
      const detail = document.getElementById(`detail-${index}`);
      if (!detail) return;
      const isVisible = detail.style.display === 'block';
      document.querySelectorAll('.lang-detail').forEach(d => d.style.display = 'none');
      detail.style.display = isVisible ? 'none' : 'block';
      if (!isVisible) detail.parentElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }

    // render auth state at load
    window.addEventListener('load', ()=>{ renderAuthState(); });

    function toggleMenu(){ const dd=document.getElementById('dropdownMenu'); dd.style.display = dd.style.display === 'flex' ? 'none':'flex'; }
  </script>
</body>
</html>
